ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 1.
Hexadecimal [16-Bits]



                              1 .globl man_entity_forall
                              2 
                              3 ;;Prerequirements:
                              4 ;;  Hl should have a pointer to the memory direction of the entity
                              5 ;;Changes a, bc 
   0000                       6 sys_physics_update_one_entity::
                              7 
                              8     ;;B is the current entity pos_x
   0000 23            [ 6]    9     inc hl
   0001 46            [ 7]   10     ld b, (hl)
                             11     ;;C is the current entity vel_x
   0002 23            [ 6]   12     inc hl
   0003 23            [ 6]   13     inc hl
   0004 4E            [ 7]   14     ld c, (hl)
                             15 
                             16     ;;Pos_x + Vel_x to know the new position of the entity
   0005 3E 00         [ 7]   17     ld a, #0x00
   0007 80            [ 4]   18     add a, b
   0008 81            [ 4]   19     add a, c
                             20     ;;If the sumn causes zero in a, the entity should be destroyed
   0009 28 06         [12]   21     jr z, destroy_entity ;;OJO, funciona? TODO
                             22 
                             23     ;;Coming back to the pos_x memory direction fo the entity to modify it
   000B 2B            [ 6]   24     dec hl
   000C 2B            [ 6]   25     dec hl
                             26 
   000D 77            [ 7]   27     ld (hl), a 
                             28 
   000E 2B            [ 6]   29     dec hl
                             30 
   000F 18 00         [12]   31     jr no_zero
                             32     
   0011                      33     destroy_entity:
                             34         ;;TODO: destroy
   0011                      35     no_zero:
                             36 
   0011 C9            [10]   37 ret
                             38 
   0012                      39 sys_physics_update::
   0012 11 00 00      [10]   40     ld de, #sys_physics_update_one_entity
   0015 CD 00 00      [17]   41     call man_entity_forall
                             42 
   0018 C9            [10]   43 ret
